<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CVE Data Simulator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            padding: 2rem;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .card {
            margin-bottom: 1.5rem;
        }
        .metrics {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
        }
        @media (max-width: 768px) {
            .metrics {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="mb-4">CVE Data Simulator</h1>
        
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h3>Simulation Controls</h3>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label class="form-label">CVE Detection Rate</label>
                            <input type="range" class="form-range" id="cveRate" min="0" max="10" value="3">
                            <div class="text-center" id="cveRateValue">3 per hour</div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label class="form-label">Ransomware Activity</label>
                            <input type="range" class="form-range" id="ransomwareRate" min="0" max="10" value="1">
                            <div class="text-center" id="ransomwareRateValue">Low</div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label class="form-label">Network Traffic</label>
                            <input type="range" class="form-range" id="trafficRate" min="0" max="10" value="5">
                            <div class="text-center" id="trafficRateValue">Normal</div>
                        </div>
                    </div>
                </div>
                <button id="startSimulation" class="btn btn-primary">Start Simulation</button>
                <button id="stopSimulation" class="btn btn-danger" disabled>Stop Simulation</button>
            </div>
        </div>

        <div class="metrics">
            <div class="card">
                <div class="card-header bg-info text-white">
                    <h4>CVE Detections</h4>
                </div>
                <div class="card-body">
                    <h5 id="cveCount">0</h5>
                    <div id="cveList" class="mt-3" style="max-height: 300px; overflow-y: auto;"></div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header bg-warning text-dark">
                    <h4>Ransomware Alerts</h4>
                </div>
                <div class="card-body">
                    <h5 id="ransomwareCount">0</h5>
                    <div id="ransomwareList" class="mt-3" style="max-height: 300px; overflow-y: auto;"></div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header bg-success text-white">
                    <h4>Network Traffic</h4>
                </div>
                <div class="card-body">
                    <canvas id="trafficChart" height="200"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Sample CVEs for simulation
        const sampleCves = [
            "CVE-2023-32456", "CVE-2023-28771", "CVE-2023-12345",
            "CVE-2023-45678", "CVE-2023-56789", "CVE-2023-67890"
        ];

        // Simulation variables
        let simulationInterval;
        let cveDetections = 0;
        let ransomwareAlerts = 0;
        let trafficData = [];
        
        // Initialize chart
        const ctx = document.getElementById('trafficChart').getContext('2d');
        const trafficChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: Array(20).fill('').map((_, i) => i + 1),
                datasets: [{
                    label: 'Network Traffic (Mbps)',
                    data: Array(20).fill(50),
                    borderColor: 'rgba(75, 192, 192, 1)',
                    tension: 0.1,
                    fill: false
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        // Update slider values
        document.getElementById('cveRate').addEventListener('input', function() {
            document.getElementById('cveRateValue').textContent = `${this.value} per hour`;
        });

        document.getElementById('ransomwareRate').addEventListener('input', function() {
            const levels = ['None', 'Low', 'Medium', 'High', 'Critical'];
            document.getElementById('ransomwareRateValue').textContent = levels[Math.floor(this.value / 2.5)] || 'None';
        });

        document.getElementById('trafficRate').addEventListener('input', function() {
            const levels = ['Very Low', 'Low', 'Normal', 'High', 'Very High'];
            document.getElementById('trafficRateValue').textContent = levels[Math.floor(this.value / 2.5)] || 'Very Low';
        });

        // Simulation functions
        function startSimulation() {
            const cveRate = parseInt(document.getElementById('cveRate').value);
            const ransomwareRate = parseInt(document.getElementById('ransomwareRate').value);
            const trafficRate = parseInt(document.getElementById('trafficRate').value);
            
            document.getElementById('startSimulation').disabled = true;
            document.getElementById('stopSimulation').disabled = false;
            
            simulationInterval = setInterval(() => {
                // Simulate CVE detections
                if (Math.random() < cveRate / 20) {
                    cveDetections++;
                    document.getElementById('cveCount').textContent = cveDetections;
                    
                    const randomCve = sampleCves[Math.floor(Math.random() * sampleCves.length)];
                    const cveList = document.getElementById('cveList');
                    const newCve = document.createElement('div');
                    newCve.className = 'alert alert-info py-2 mb-2';
                    newCve.innerHTML = `<strong>${randomCve}</strong> detected at ${new Date().toLocaleTimeString()}`;
                    cveList.prepend(newCve);
                }
                
                // Simulate ransomware alerts
                if (Math.random() < ransomwareRate / 20) {
                    ransomwareAlerts++;
                    document.getElementById('ransomwareCount').textContent = ransomwareAlerts;
                    
                    const ransomwareList = document.getElementById('ransomwareList');
                    const newAlert = document.createElement('div');
                    newAlert.className = 'alert alert-warning py-2 mb-2';
                    newAlert.innerHTML = `<strong>Ransomware attempt</strong> detected at ${new Date().toLocaleTimeString()}`;
                    ransomwareList.prepend(newAlert);
                }
                
                // Update network traffic
                trafficData = trafficChart.data.datasets[0].data;
                trafficData.shift();
                
                const baseTraffic = 50 + (trafficRate * 10);
                const randomVariation = (Math.random() - 0.5) * 20;
                trafficData.push(Math.max(10, baseTraffic + randomVariation));
                
                trafficChart.update();
                
            }, 1000);
        }

        function stopSimulation() {
            clearInterval(simulationInterval);
            document.getElementById('startSimulation').disabled = false;
            document.getElementById('stopSimulation').disabled = true;
        }

        // Event listeners
        document.getElementById('startSimulation').addEventListener('click', startSimulation);
        document.getElementById('stopSimulation').addEventListener('click', stopSimulation);
    </script>
</body>
</html>